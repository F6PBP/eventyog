{% extends "base.html" %}
{% block content %}
    <body class="bg-gray-100 text-gray-800 h-screen">
        <div class="container mx-auto p-8 mt-32 h-full">
            <!-- Main Heading -->
            <h1 class="text-5xl font-bold text-center mb-6 bg-gradient-to-b from-[#003FE2] to-[#00E2A1] text-transparent bg-clip-text">YogEvents!</h1>
            <h3 class="text-gray-500 text-lg text-center mb-6">Your Gateway to Memorable Experiences</h3>

            <!-- Search and Filter Section -->
            <form method="GET" class="flex justify-center items-center mb-6">
                <div class="flex items-center overflow-hidden rounded-lg">
                    
                    <!-- Search Bar -->
                    <div class="relative">
                        <input type="text" name="q" placeholder="Search events..." value="{{ request.GET.q }}" 
                               class="py-3 px-5 w-80 border-none focus:outline-none focus:bg-gray-400 rounded-r">
                    </div>
                    
                    <!-- Category Dropdown -->
                    <select name="category" 
                            class="py-3 px-4 border-none focus:outline-none focus:bg-gray-400 rounded-none">
                        <option value="">All Categories</option>
                        <option value="OL" {% if request.GET.category == 'OL' %}selected{% endif %}>Olahraga</option>
                        <option value="SN" {% if request.GET.category == 'SN' %}selected{% endif %}>Seni</option>
                        <option value="MS" {% if request.GET.category == 'MS' %}selected{% endif %}>Musik</option>
                        <option value="CP" {% if request.GET.category == 'CP' %}selected{% endif %}>Cosplay</option>
                        <option value="LG" {% if request.GET.category == 'LG' %}selected{% endif %}>Lingkungan</option>
                        <option value="VL" {% if request.GET.category == 'VL' %}selected{% endif %}>Volunteer</option>
                        <option value="KL" {% if request.GET.category == 'KL' %}selected{% endif %}>Kuliner</option>
                        <option value="PW" {% if request.GET.category == 'PW' %}selected{% endif %}>Pariwisata</option>
                        <option value="FS" {% if request.GET.category == 'FS' %}selected{% endif %}>Festival</option>
                        <option value="FM" {% if request.GET.category == 'FM' %}selected{% endif %}>Film</option>
                        <option value="FN" {% if request.GET.category == 'FN' %}selected{% endif %}>Fashion</option>
                        <option value="LN" {% if request.GET.category == 'LN' %}selected{% endif %}>Lainnya</option>
                    </select>
            
                    <!-- Filter Button -->
                    <button type="submit" class="bg-blue-500 text-white px-6 py-3 rounded-r-lg hover:bg-blue-600 transition-all focus:outline-none focus:ring-2 focus:ring-blue-500">
                        Filter
                    </button>
                </div>
            </form>         

            <!-- Event Grid Section -->
            {% if not events %}
            <div class="flex items-center justify-center w-full h-64">
                <p class="text-center text-gray-600">No events available at the moment.</p>
            </div>
            {% else %}
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 justify-center mx-auto">
                {% for event in events %}
                    {% include 'event_card.html' with event=event %}
                {% endfor %}
            </div>
            {% endif %}

            <!-- Admin Controls -->
            {% if is_admin %}
                {% include "ds/button.html" with icon="fa fa-plus" text="Create Event" class="w-fit h-fit fixed right-10 bottom-10 z-50 bg-blue-500 text-white p-4 rounded-full shadow-lg hover:bg-blue-600" id="openModalButton" specify="open-modal-1" %}
                {% include "create_event.html" with modal_id="open-modal-1" modal_title="+ Create Event" modal_label="modal-label" modal_class="w-screen h-screen absolute left-0 top-0" %}
            {% endif %}
        </div>
    </body>
{% endblock content %}
